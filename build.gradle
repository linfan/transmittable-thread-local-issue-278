plugins {
    id 'java'
}

group = 'com.alibaba.demo'
version = '1.0.0-SNAPSHOT'
sourceCompatibility = '8'

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    testImplementation('org.junit.jupiter:junit-jupiter:5.6.2')
    testImplementation('com.alibaba:transmittable-thread-local:2.12.1')
}

tasks.withType(JavaCompile) {
    options.encoding = "UTF-8"
}

test {
    jvmArgs "-javaagent:${classpath.find { it.name.contains("transmittable-thread-local") }.absolutePath}"
    useJUnitPlatform()
}

